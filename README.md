# â™Ÿï¸ é»‘ç™½æ£‹(Ohello/Reversi) AI ç¶²é éŠæˆ²

æœ¬å°ˆæ¡ˆä»¥ **C++**  æ‰‹åˆ» **è’™ç‰¹å¡ç¾…æ¨¹æœç´¢ï¼ˆMCTSï¼‰** æ¼”ç®—æ³•ä½œç‚ºé»‘ç™½æ£‹ AI æ ¸å¿ƒï¼Œä¸¦é€é **å¤šåŸ·è¡Œç·’è¨­è¨ˆ** æå‡å…©å€é‹ç®—æ•ˆç‡ï¼Œä½¿ç”¨ **Express.js** æ•´åˆç¶²é å‰å¾Œç«¯ï¼Œæ‰“é€ å®Œæ•´çš„éŠæˆ²ç³»çµ±ã€‚

> **ğŸª„è£œå……**ï¼šé»‘ç™½æ£‹éŠæˆ²(Ohello)ä¹Ÿç¨±ç‚ºã€Œåè½‰æ£‹(Reversi)ã€ï¼Œæ˜¯å…©äººäº’ä¸‹é»‘ç™½è‰²æ£‹çš„è³½å±€ï¼Œç›®æ¨™æ˜¯åœ¨ 8Ã—8 å…± 64 æ ¼çš„æ£‹ç›¤ä¸Šç¿»è½‰å°æ–¹çš„æ£‹å­ï¼Œä½¿è‡ªå·±çš„æ£‹å­å æ“šæœ€å¤šä½ç½®ã€‚

---

## â­ åŠŸèƒ½ç‰¹è‰²

### **å°ˆæ¡ˆä»‹ç´¹**

- **AIè¼”åŠ©**ï¼šåŸºæ–¼ MCTS æ¼”ç®—æ³•ï¼Œèƒ½é€æ­¥æœç´¢èˆ‡æ¨¡æ“¬æœ€ä½³ä¸‹æ³•  
- **AI vs AI æ¨¡å¼**ï¼šå¯åŒæ™‚é–‹å•ŸAIï¼Œè§€æ‘©å­¸ç¿’ AI å°å¼ˆ
- **å‰å¾Œç«¯åˆ†é›¢æ¶æ§‹**ï¼šC++ æä¾›æ¼”ç®—æ•ˆç‡ï¼Œå‰ç«¯å¯¦ä½œç¶²é äº’å‹•ä»‹é¢ 
  
[![OthelloWeb Demo](/public/image/homePage.png)](https://youtu.be/_fBZeFRpCw8)
**å½±ç‰‡é€£çµ**ï¼šhttps://youtu.be/_fBZeFRpCw8

### **å¤šåŸ·è¡Œç·’å„ªåŒ–**

  åˆ©ç”¨å¤šåŸ·è¡Œç·’ç¸®çŸ­2å€AIé‹ç®—æ•ˆç‡ï¼Œå¯é¸æ“‡å–®åŸ·è¡Œç·’èˆ‡å¤šåŸ·è¡Œç·’æ¨¡å¼ï¼Œå¯¦éš›é«”é©—å„ªåŒ–æ•ˆæœ 

[![OthelloWeb Demo](/public/image/multiThreadDemo.jpg)](https://youtu.be/Fcq8fPVk51s)
**å½±ç‰‡é€£çµ**ï¼šhttps://youtu.be/Fcq8fPVk51s

---

## ğŸ“‚ å°ˆæ¡ˆæ¶æ§‹

![å‰å¾Œç«¯æ¶æ§‹åœ–](public/image/structure.png)

```plaintext
OthelloWeb/
â”œâ”€â”€ app.js                # Node.js ä¼ºæœå™¨ä¸»ç¨‹å¼
â”œâ”€â”€ package.json          # ä¾è³´è¨­å®š
â”œâ”€â”€ README.md             # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”‚
â”œâ”€â”€ Cpp/...               # C++ åŸå§‹ç¢¼èˆ‡ç›¸é—œæª”æ¡ˆ (ä¸å½±éŸ¿å°ˆæ¡ˆå•Ÿå‹•)
â”‚
â”œâ”€â”€ kernel/               # C++ æ ¸å¿ƒæ¼”ç®—æ³•èˆ‡ç·¨è­¯æª”
â”‚   â”œâ”€â”€ json.hpp
â”‚   â”œâ”€â”€ v02-pthread.cpp
â”‚   â”œâ”€â”€ v02-pthread.exe
â”‚   â”œâ”€â”€ v02.cpp
â”‚   â””â”€â”€ v02.exe
â”‚
â”œâ”€â”€ public/               # å‰ç«¯éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ bootstrap-switch.js
â”‚   â”œâ”€â”€ function.js
â”‚   â”œâ”€â”€ prism-cpp.min.js
â”‚   â”œâ”€â”€ prism.css
â”‚   â”œâ”€â”€ prism.js
â”‚   â”œâ”€â”€ file/
â”‚   â”‚   â”œâ”€â”€ OthelloWeb.pdf
â”‚   â”‚   â””â”€â”€ OthelloWeb.pptx
â”‚   â””â”€â”€ image/...
â”‚
â””â”€â”€ views/                # å‰ç«¯ç¶²é  (EJS)
    â”œâ”€â”€ cpp.ejs           # çµ‚ç«¯æ©Ÿç‰ˆä¸€éµè¤‡è£½
    â”œâ”€â”€ index.ejs         # éŠæˆ²ä¸»ç•«é¢
    â””â”€â”€ introduce.ejs     # å°ˆæ¡ˆä»‹ç´¹
```

---

## ğŸª¡ å–®åŸ·è¡Œç·’ vs. å¤šåŸ·è¡Œç·’ å¯¦é©—æ¦‚è¦

**å¯¦é©—æ–¹æ³•**ï¼šå›ºå®šé¸ä»£æ¬¡æ•¸ï¼Œå¯¦æ¸¬ä¸åŒæ¨¡æ“¬æ¬¡æ•¸ä¸‹ï¼Œå¹³å‡ä¸€æ­¥çš„é‹ç®—æ™‚é–“ï¼ˆèˆ‡è‡ªå·±å°å¼ˆï¼‰ã€‚

**è¿­ä»£æ¬¡æ•¸**ï¼š200

**CPUè¦æ ¼**ï¼šIntelÂ® Coreâ„¢ i5-1135G7

**å¯¦é©—æ•¸æ“š**ï¼š

| æ¨¡æ“¬æ¬¡æ•¸ | å–®åŸ·è¡Œç·’ (ms) | å¤šåŸ·è¡Œç·’ (ms) | æ¯”å€¼ |
|----------|-----------------------------|-----------------------------|------|
| 30       | 878                         | 436                         | 2.0  |
| 40       | 1639                        | 577                         | 2.8  |
| 50       | 1265                        | 709                         | 1.8  |
| 60       | 2267                        | 837                         | 2.7  |
| 70       | 1701                        | 988                         | 1.7  |

---

## ğŸƒâ€â™€ï¸â€â¡ï¸ç¨‹å¼é‹ä½œæµç¨‹

![ç¨‹å¼é‹ä½œæµç¨‹1](public/image/process.png)
![ç¨‹å¼é‹ä½œæµç¨‹2](public/image/processMCTS.png)
![æ£‹å±€æ¨¡å¡Š](public/image/stateClass.png)
![MCTS](public/image/MCTSClass.png)

---

## ğŸŒ² è’™ç‰¹å¡ç¾…æ¨¹æœç´¢

è’™ç‰¹å¡ç¾…æ¨¹æœç´¢æ˜¯ä¸€ç¨®åŸºæ–¼æ©Ÿç‡æ¨¡æ“¬çš„å•Ÿç™¼å¼æœç´¢æ¼”ç®—æ³•ï¼Œç‰¹åˆ¥é©ç”¨æ–¼åšå¥•éŠæˆ²çš„æ±ºç­–å„ªåŒ–ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯è—‰ç”±éš¨æ©Ÿæ¨¡æ“¬ä¾†è©•ä¼°æ½›åœ¨è½å­ä½ç½®çš„åƒ¹å€¼ï¼Œé€æ­¥å»ºæ§‹æœå°‹æ¨¹ä»¥é€¼è¿‘æœ€ä½³æ±ºç­–ã€‚è¥¿å…ƒ2018å¹´å¾Œï¼ŒåŸºæ–¼è’™ç‰¹å¡æ´›æ¨¹æœç´¢èˆ‡å¼·åŒ–å­¸ç¿’çš„æ¶æ§‹ã€ŒAlphaZeroã€ä¸»å®°æ£‹é¡éŠæˆ²ï¼Œäººé¡åœ¨è©²é ˜åŸŸå·²ç¶“æ²’è¾¦æ³•æˆ°å‹äººå·¥æ™ºæ…§ã€‚

![MCTS](public/image/MCTS.png)
![MCTS](public/image/MCTSnode.png)

è’™ç‰¹å¡æ´›æ¨¹æœç´¢æ¯æ¬¡è¿­ä»£åŒ…å«å››å€‹éšæ®µï¼š

1. **é¸æ“‡ (Selection)**ï¼šå¾æ ¹çµé»å‡ºç™¼ï¼Œæ ¹æ“šå‹ç‡èˆ‡æ¢ç´¢æ¬¡æ•¸é¸æ“‡å­ç¯€é»ï¼Œç›´åˆ°è‘‰ç¯€é»ã€‚

  ![MCTS](public/image/selection.png)

2. **æ“´å±• (Expansion)**ï¼šå±•é–‹æ‰€æœ‰æ–°ç¯€é»ï¼Œæ­¤ç¯€é»ä¸å†æ˜¯è‘‰ç¯€é»ã€‚

  ![MCTS](public/image/expansion.png)

3. **æ¨¡æ“¬ (Rollout)**ï¼šå¾æ­¤ç¯€é»é–‹å§‹éš¨æ©Ÿè½å­ç›´åˆ°éŠæˆ²çµæŸä¸¦ç´€éŒ„å‹è² ï¼Œæ­¤éç¨‹å°‡é‡è¤‡æ•¸æ¬¡ã€‚

  ![MCTS](public/image/rollout.png)

4. **åå‘æ›´æ–° (Backpropagation)**ï¼šåå‘å‚³æ’­æ–°å‹ç‡èˆ‡æ¢ç´¢æ¬¡æ•¸ï¼Œæ›´æ–°çˆ¶ç¯€é»çµ±è¨ˆæ•¸æ“šã€‚

![MCTS](public/image/backPropagation.png)

---

## ğŸ’” Othello åç¨±ç”±ä¾†ï¼ˆç´€å…‰è¼æ•™æˆå¦è¨»ï¼‰

é€™å¥—é»‘ç™½æ£‹éŠæˆ²åŸå Othello (å¥§è³½ç¾…)ï¼Œæºæ–¼èå£«æ¯”äºæˆ²åŠ‡ä¸­çš„ä¸€ä½æ‚²åŠ‡äººç‰©ï¼›å¥§è³½ç¾…æ˜¯è‹±å‹‡çš„é»‘äººå°‡è»ï¼Œæ„›å¦»æ˜¯ç™½äººï¼Œå› å—å°äººæŒ‘æ’¥ï¼Œæ‡·ç–‘å¦»å­ä¸å¿ è€Œæƒ…æµ·æ€’æ¿¤ç¿»é¨°ï¼Œæœ€çµ‚è¦ªæ‰‹æ®ºæ­»å¦»å­ã€‚å¾Œä¾†çœŸç›¸å¤§ç™½ï¼Œå¥§è³½ç¾…æ‚”æ¨ä¸å·²ï¼Œäº¦è‡ªæ®ºè€Œæ­»ã€‚æ•…äº‹ä»¥å¨å°¼æ–¯èˆ‡å¡æ™®å‹’æ–¯(Cyprus)ç‚ºèƒŒæ™¯ï¼Œè¬›è¿°ä¸€ä½è² è²¬é˜²è¡›é„‚åœ–æ›¼åœŸè€³å…¶å¸åœ‹è»éšŠå…¥ä¾µçš„å¥§è³½ç¾…å°‡è»èˆ‡æ–°å©šå¦»å­ Desdemona ä¹‹é–“çš„è¤‡é›œæ„›æƒ…ç³¾è‘›ã€‚å¹´è¼•è²Œç¾çš„æ„›å¦»æ˜¯å¨å°¼æ–¯å¯Œå•†ä¹‹å¥³ï¼Œä¸é¡§çˆ¶è¦ªåå°è€ŒåŸ·æ„å«çµ¦æ¢ä»¶ä¸å¤ å„ªæ¸¥çš„å¥§è³½ç¾…ã€‚å¥§è³½ç¾…åœ¨è»ä¸­è¡¨ç¾å‡ºè‰²ï¼Œä½†ä»–çš„éº¾ä¸‹ Iago å‡é·ä¸é †ã€æ€¨å¦’åŠå…¶ä»–é—‡é»‘åŸå› è€Œä¸æ‡·å¥½å¿ƒï¼Œä¼åœ–ç ´å£é€™ä¸€å°æ©æ„›å¤«å¦»ã€‚Iago åˆ©ç”¨å¥§è³½ç¾…å°è‡ªå·±çš„ä¿¡ä»»ï¼Œæ“ç¸±ä»–çš„æƒ³æ³•ï¼Œä»¤ä»–ç›¸ä¿¡å…¶å¦»èˆ‡ä¸€åå—ææ‹”çš„å¹´è¼•è»å®˜å¡è¥¿æ­(Cassio)æœ‰æŸ“ï¼Œä¸¦ä¸”åˆ©ç”¨å¥§è³½ç¾…å°è‡ªå·±é»‘çš®è†šçš„åè¦‹åŠ æ·±èª¤æœƒã€‚æƒ¡æ„çš„è©­è¨ˆä½¿å¾—å¥§è³½ç¾…çš„çŒœå¿Œå’Œå«‰å¦’é”åˆ°é ‚é»ï¼Œå¼•ç™¼ä»–å°å¦»å­çš„æ‡·ç–‘èˆ‡æ†¤æ€’ï¼Œæœ€çµ‚å°è‡´æ‚²åŠ‡çš„çµå±€ã€‚

---

## âš™ï¸ å®‰è£èˆ‡åŸ·è¡Œ

### å‰ç½®éœ€æ±‚

- C++17 æˆ–ä»¥ä¸Š
- Node.js (å»ºè­° 16+)
- ç€è¦½å™¨ Chrome

> âš ï¸ æœ¬å°ˆæ¡ˆå»ºè­°æ–¼ Windows ç³»çµ±åŸ·è¡Œï¼Œè«‹å®‰è£ MinGW æˆ– WSL ä»¥æ”¯æ´ g++ ç·¨è­¯å™¨ï¼Œä¸”é ˆå¯ä»¥ç·¨è­¯ **phread.h** å‡½å¼åº«ã€‚

### å®‰è£æ­¥é©Ÿ

```bash
# å–å¾—å°ˆæ¡ˆ
git clone https://github.com/ShyShyFaceElephant/OthelloWeb.git
cd OthelloWeb

# ç·¨è­¯ C++ å¾Œç«¯ï¼ˆkernel è³‡æ–™å¤¾ï¼‰
g++ -o kernel/v02.exe kernel/v02.cpp -O2
g++ -o kernel/v02-pthread.exe kernel/v02-pthread.cpp -O2

# å®‰è£ Node.js ä¾è³´ä¸¦å•Ÿå‹•ä¼ºæœå™¨
npm install
node app.js

# ç¶²ç«™å°‡ç™¼å¸ƒåœ¨ http://localhost:8080/
```

---

## ğŸ“š åƒè€ƒè³‡æ–™

- Roy Hung (2019). A Reversi Playing Agent and the Monte Carlo Tree Search Algorithm  (https://royhung.com/reversi)

- David Foster (2017). AlphaGo Zero Explained In One Diagram  
  (https://medium.com/applied-data-science/alphago-zero-explained-in-one-diagram-365f5abf67e0)